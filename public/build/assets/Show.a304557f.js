import{L as f}from"./Layout.5f274f6d.js";import{L as g,H as k,i as p,r,o,c as i,a as u,w as _,b as t,j as y,t as s,d,k as x,v as S,F as T,m as w,f as m,g as N}from"./app.f685ded8.js";import{S as D}from"./sweetalert2.all.feff035e.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";const P={layout:f,components:{Link:g,Head:k},props:{transaction:Object},setup(e){const a=p({transaction_status:e.transaction.transaction_status});return{form:a,submit:()=>{w.Inertia.put(`/admin/transactions/${e.transaction.id}`,{transaction_status:a.transaction_status},{onSuccess:()=>{D.fire({title:"Success!",text:"Transaksi Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})}}},methods:{formatPrice(e){return"Rp."+(e/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},K={class:"page-wrapper"},B={class:"page-content"},V=m('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Transaksi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Transaksi</li></ol></nav></div></div>',1),F={class:"card"},j={class:"card-body"},C={class:"d-lg-flex align-items-center"},H={class:"ms-auto"},M=N("Kembali"),U={class:"table-responsive"},A={class:"table mb-0"},E=t("tr",null,[t("th",{colspan:"3"},"Rincian Transaksi")],-1),R=t("td",{width:"300px"},"Nama Lengkap",-1),W=t("td",{width:"20px"},":",-1),G=t("td",null,"Email",-1),I=t("td",null,":",-1),J=t("td",null,"Provinsi",-1),O=t("td",null,":",-1),q=t("td",null,"Kota/Kab",-1),z=t("td",null,":",-1),Q=t("td",null,"Kecamatan",-1),X=t("td",null,":",-1),Y=t("td",null,"Desa/Kelurahan",-1),Z=t("td",null,":",-1),$=t("td",null,"Desa/Kelurahan",-1),tt=t("td",null,":",-1),nt=t("td",null,"Nomor Telepon (Whatsapp)",-1),st=t("td",null,":",-1),at=t("tr",null,[t("th",{colspan:"3"},"Detail Transaksi")],-1),et=t("td",null,"No Faktur",-1),ot=t("td",null,":",-1),it=t("td",null,"Tanggal Faktur",-1),lt=t("td",null,":",-1),dt=t("td",null,"Kategori Peminatan",-1),ct=t("td",null,":",-1),rt={class:"badge bg-primary"},ut=t("td",null,"Judul Ujian",-1),_t=t("td",null,":",-1),mt=t("td",null,"Total Pembayaran",-1),ht=t("td",null,":",-1),bt=t("td",null,"Maksimal Waktu Pembayaran",-1),vt=t("td",null,":",-1),ft=t("td",null,"Status Transaksi",-1),gt=t("td",null,":",-1),kt={key:0},pt=t("td",null,"Token",-1),yt=t("td",null,":",-1),xt={key:1},St=t("th",{colspan:"3"},"Aksi",-1),Tt=[St],wt={key:2},Nt=t("td",null,"Ubah Status Transaksi",-1),Dt=t("td",null,":",-1),Lt=m('<option value="">[ Pilih Statu Transaksi ]</option><option value="pending">Pending</option><option value="paid">Lunas</option><option value="done">Selesai</option><option value="failed">Gagal</option>',5),Pt=[Lt],Kt={key:3},Bt=t("td",{colspan:"3"},[t("button",{type:"submit",class:"btn btn-primary px-5"},"Submit")],-1),Vt=[Bt];function Ft(e,a,n,l,jt,h){const b=r("Head"),v=r("Link");return o(),i(T,null,[u(b,null,{default:_(()=>[t("title",null,s(e.appName)+" - Detail Transaksi",1)]),_:1}),t("div",K,[t("div",B,[V,t("div",F,[t("div",j,[t("div",C,[t("div",H,[u(v,{href:"/admin/transactions",class:"btn btn-primary mt-2 mt-lg-0"},{default:_(()=>[M]),_:1})])]),t("div",U,[t("form",{onSubmit:a[1]||(a[1]=y((...c)=>l.submit&&l.submit(...c),["prevent"]))},[t("table",A,[t("tbody",null,[E,t("tr",null,[R,W,t("td",null,s(n.transaction.user.name),1)]),t("tr",null,[G,I,t("td",null,s(n.transaction.user.email),1)]),t("tr",null,[J,O,t("td",null,s(n.transaction.user.student.province.name),1)]),t("tr",null,[q,z,t("td",null,s(n.transaction.user.student.city.name),1)]),t("tr",null,[Q,X,t("td",null,s(n.transaction.user.student.district.name),1)]),t("tr",null,[Y,Z,t("td",null,s(n.transaction.user.student.village.name),1)]),t("tr",null,[$,tt,t("td",null,s(n.transaction.user.student.address),1)]),t("tr",null,[nt,st,t("td",null,s(n.transaction.user.student.phone_number),1)]),at,t("tr",null,[et,ot,t("td",null,s(n.transaction.code),1)]),t("tr",null,[it,lt,t("td",null,s(n.transaction.created_at),1)]),t("tr",null,[dt,ct,t("td",null,[t("span",rt,s(n.transaction.exam.category.name),1)])]),t("tr",null,[ut,_t,t("td",null,s(n.transaction.exam.title),1)]),t("tr",null,[mt,ht,t("td",null,s(h.formatPrice(n.transaction.total_purchases)),1)]),t("tr",null,[bt,vt,t("td",null,s(n.transaction.maximum_payment_time),1)]),t("tr",null,[ft,gt,t("td",null,s(n.transaction.transaction_status),1)]),n.transaction.transaction_status=="done"?(o(),i("tr",kt,[pt,yt,t("td",null,s(n.transaction.voucher_token),1)])):d("",!0),n.transaction.transaction_status=="pending"||n.transaction.transaction_status=="paid"?(o(),i("tr",xt,Tt)):d("",!0),n.transaction.transaction_status=="pending"||n.transaction.transaction_status=="paid"?(o(),i("tr",wt,[Nt,Dt,t("td",null,[x(t("select",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=c=>l.form.transaction_status=c)},Pt,512),[[S,l.form.transaction_status]])])])):d("",!0),n.transaction.transaction_status=="pending"||n.transaction.transaction_status=="paid"?(o(),i("tr",Kt,Vt)):d("",!0)])])],32)])])])])])],64)}const At=L(P,[["render",Ft]]);export{At as default};
