import{L as v}from"./Layout.692c566e.js";import{L as y,H as f,i as g,r,o as a,c as e,a as _,w as u,b as t,j as x,t as s,d,k as p,v as S,F as T,m as w,f as h,g as N}from"./app.888d1dec.js";import{S as D}from"./sweetalert2.all.f6d25b91.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";const P={layout:v,components:{Link:y,Head:f},props:{transaction:Object},setup(i){const o=g({transaction_status:i.transaction.transaction_status});return{form:o,submit:()=>{w.Inertia.put(`/admin/transactions/${i.transaction.id}`,{transaction_status:o.transaction_status},{onSuccess:()=>{D.fire({title:"Success!",text:"Transaksi Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})}}},methods:{formatPrice(i){return"Rp."+(i/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},B={class:"page-wrapper"},K={class:"page-content"},V=h('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Transaksi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Transaksi</li></ol></nav></div></div>',1),F={class:"card"},j={class:"card-body"},C={class:"d-lg-flex align-items-center"},H={class:"ms-auto"},M=N("Kembali"),U={class:"table-responsive"},A={class:"table mb-0"},E=t("tr",null,[t("th",{colspan:"3"},"Rincian Transaksi")],-1),J=t("td",{width:"300px"},"Nama Lengkap",-1),R=t("td",{width:"20px"},":",-1),W=t("td",null,"Email",-1),G=t("td",null,":",-1),I=t("td",null,"Provinsi",-1),O=t("td",null,":",-1),q={key:0},z={key:1},Q=t("td",null,"Kota/Kab",-1),X=t("td",null,":",-1),Y={key:0},Z={key:1},$=t("td",null,"Kecamatan",-1),tt=t("td",null,":",-1),nt={key:0},st={key:1},at=t("td",null,"Desa/Kelurahan",-1),et=t("td",null,":",-1),ot={key:0},it={key:1},lt=t("td",null,"Dusun/Jalan",-1),dt=t("td",null,":",-1),ct={key:0},rt={key:1},_t=t("td",null,"Nomor Telepon (Whatsapp)",-1),ut=t("td",null,":",-1),ht=t("tr",null,[t("th",{colspan:"3"},"Detail Transaksi")],-1),mt=t("td",null,"No Faktur",-1),bt=t("td",null,":",-1),kt=t("td",null,"Tanggal Faktur",-1),vt=t("td",null,":",-1),yt=t("td",null,"Kategori Peminatan",-1),ft=t("td",null,":",-1),gt={class:"badge bg-primary"},xt=t("td",null,"Judul Ujian",-1),pt=t("td",null,":",-1),St=t("td",null,"Total Pembayaran",-1),Tt=t("td",null,":",-1),wt=t("td",null,"Maksimal Waktu Pembayaran",-1),Nt=t("td",null,":",-1),Dt=t("td",null,"Status Transaksi",-1),Lt=t("td",null,":",-1),Pt={key:0},Bt=t("td",null,"Token",-1),Kt=t("td",null,":",-1),Vt={key:1},Ft=t("th",{colspan:"3"},"Aksi",-1),jt=[Ft],Ct={key:2},Ht=t("td",null,"Ubah Status Transaksi",-1),Mt=t("td",null,":",-1),Ut=h('<option value="">[ Pilih Statu Transaksi ]</option><option value="pending">Pending</option><option value="paid">Lunas</option><option value="done">Selesai</option><option value="failed">Gagal</option>',5),At=[Ut],Et={key:3},Jt=t("td",{colspan:"3"},[t("button",{type:"submit",class:"btn btn-primary px-5"},"Submit")],-1),Rt=[Jt];function Wt(i,o,n,l,Gt,m){const b=r("Head"),k=r("Link");return a(),e(T,null,[_(b,null,{default:u(()=>[t("title",null,s(i.appName)+" - Detail Transaksi",1)]),_:1}),t("div",B,[t("div",K,[V,t("div",F,[t("div",j,[t("div",C,[t("div",H,[_(k,{href:"/admin/transactions",class:"btn btn-primary mt-2 mt-lg-0"},{default:u(()=>[M]),_:1})])]),t("div",U,[t("form",{onSubmit:o[1]||(o[1]=x((...c)=>l.submit&&l.submit(...c),["prevent"]))},[t("table",A,[t("tbody",null,[E,t("tr",null,[J,R,t("td",null,s(n.transaction.user.name),1)]),t("tr",null,[W,G,t("td",null,s(n.transaction.user.email),1)]),t("tr",null,[I,O,n.transaction.user.student.province_id==null?(a(),e("td",q,"-")):(a(),e("td",z,s(n.transaction.user.student.province.name),1))]),t("tr",null,[Q,X,n.transaction.user.student.city_id==null?(a(),e("td",Y,"-")):(a(),e("td",Z,s(n.transaction.user.student.city.name),1))]),t("tr",null,[$,tt,n.transaction.user.student.district_id==null?(a(),e("td",nt,"-")):(a(),e("td",st,s(n.transaction.user.student.district.name),1))]),t("tr",null,[at,et,n.transaction.user.student.village_id==null?(a(),e("td",ot,"-")):(a(),e("td",it,s(n.transaction.user.student.village.name),1))]),t("tr",null,[lt,dt,n.transaction.user.student.address==null?(a(),e("td",ct,"-")):(a(),e("td",rt,s(n.transaction.user.student.address),1))]),t("tr",null,[_t,ut,t("td",null,s(n.transaction.user.student.phone_number),1)]),ht,t("tr",null,[mt,bt,t("td",null,s(n.transaction.code),1)]),t("tr",null,[kt,vt,t("td",null,s(n.transaction.created_at),1)]),t("tr",null,[yt,ft,t("td",null,[t("span",gt,s(n.transaction.exam.category.name),1)])]),t("tr",null,[xt,pt,t("td",null,s(n.transaction.exam.title),1)]),t("tr",null,[St,Tt,t("td",null,s(m.formatPrice(n.transaction.total_purchases)),1)]),t("tr",null,[wt,Nt,t("td",null,s(n.transaction.maximum_payment_time),1)]),t("tr",null,[Dt,Lt,t("td",null,s(n.transaction.transaction_status),1)]),n.transaction.transaction_status=="done"?(a(),e("tr",Pt,[Bt,Kt,t("td",null,s(n.transaction.voucher_token),1)])):d("",!0),n.transaction.transaction_status=="pending"||n.transaction.transaction_status=="paid"?(a(),e("tr",Vt,jt)):d("",!0),n.transaction.transaction_status=="pending"||n.transaction.transaction_status=="paid"?(a(),e("tr",Ct,[Ht,Mt,t("td",null,[p(t("select",{class:"form-control","onUpdate:modelValue":o[0]||(o[0]=c=>l.form.transaction_status=c)},At,512),[[S,l.form.transaction_status]])])])):d("",!0),n.transaction.transaction_status=="pending"||n.transaction.transaction_status=="paid"?(a(),e("tr",Et,Rt)):d("",!0)])])],32)])])])])])],64)}const Qt=L(P,[["render",Wt]]);export{Qt as default};
